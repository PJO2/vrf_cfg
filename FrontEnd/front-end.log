2021-05-21 16:15:34,108 - display - ERROR - Exception on /contracts [GET]
Traceback (most recent call last):
  File "/home/ark/.local/lib/python3.7/site-packages/flask/app.py", line 2051, in wsgi_app
    response = self.full_dispatch_request()
  File "/home/ark/.local/lib/python3.7/site-packages/flask/app.py", line 1501, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/home/ark/.local/lib/python3.7/site-packages/flask/app.py", line 1499, in full_dispatch_request
    rv = self.dispatch_request()
  File "/home/ark/.local/lib/python3.7/site-packages/flask/app.py", line 1485, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**req.view_args)
  File "display.py", line 26, in contracts
    return restapis.build_contracts_list()
  File "/home/ark/SAUR/FrontEnd/restapis.py", line 18, in build_contracts_list
    url = 'https://' + config.HUBs[0] + contracts
NameError: name 'contracts' is not defined
2021-05-21 16:16:32,650 - display - ERROR - Exception on /contracts [GET]
Traceback (most recent call last):
  File "/home/ark/.local/lib/python3.7/site-packages/flask/app.py", line 2051, in wsgi_app
    response = self.full_dispatch_request()
  File "/home/ark/.local/lib/python3.7/site-packages/flask/app.py", line 1501, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/home/ark/.local/lib/python3.7/site-packages/flask/app.py", line 1499, in full_dispatch_request
    rv = self.dispatch_request()
  File "/home/ark/.local/lib/python3.7/site-packages/flask/app.py", line 1485, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**req.view_args)
  File "display.py", line 26, in contracts
    return restapis.build_contracts_list()
  File "/home/ark/SAUR/FrontEnd/restapis.py", line 18, in build_contracts_list
    url = 'https://' + config.HUBs[0] + URLs['contracts']
NameError: name 'contracts' is not defined
2021-05-21 16:16:37,528 - display - ERROR - Exception on /contracts [GET]
Traceback (most recent call last):
  File "/home/ark/.local/lib/python3.7/site-packages/flask/app.py", line 2051, in wsgi_app
    response = self.full_dispatch_request()
  File "/home/ark/.local/lib/python3.7/site-packages/flask/app.py", line 1501, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/home/ark/.local/lib/python3.7/site-packages/flask/app.py", line 1499, in full_dispatch_request
    rv = self.dispatch_request()
  File "/home/ark/.local/lib/python3.7/site-packages/flask/app.py", line 1485, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**req.view_args)
  File "display.py", line 26, in contracts
    return restapis.build_contracts_list()
  File "/home/ark/SAUR/FrontEnd/restapis.py", line 18, in build_contracts_list
    url = 'https://' + config.HUBs[0] + URLs['contracts']
TypeError: list indices must be integers or slices, not str
2021-05-21 16:17:40,058 - display - ERROR - Exception on /contracts [GET]
Traceback (most recent call last):
  File "/home/ark/.local/lib/python3.7/site-packages/flask/app.py", line 2051, in wsgi_app
    response = self.full_dispatch_request()
  File "/home/ark/.local/lib/python3.7/site-packages/flask/app.py", line 1502, in full_dispatch_request
    return self.finalize_request(rv)
  File "/home/ark/.local/lib/python3.7/site-packages/flask/app.py", line 1521, in finalize_request
    response = self.make_response(rv)
  File "/home/ark/.local/lib/python3.7/site-packages/flask/app.py", line 1714, in make_response
    "The view function did not return a valid"
TypeError: The view function did not return a valid response. The return type must be a string, dict, tuple, Response instance, or WSGI callable, but it was a Response.
2021-05-21 16:18:41,487 - display - ERROR - Exception on /contracts [GET]
Traceback (most recent call last):
  File "/home/ark/.local/lib/python3.7/site-packages/flask/app.py", line 2051, in wsgi_app
    response = self.full_dispatch_request()
  File "/home/ark/.local/lib/python3.7/site-packages/flask/app.py", line 1502, in full_dispatch_request
    return self.finalize_request(rv)
  File "/home/ark/.local/lib/python3.7/site-packages/flask/app.py", line 1521, in finalize_request
    response = self.make_response(rv)
  File "/home/ark/.local/lib/python3.7/site-packages/flask/app.py", line 1714, in make_response
    "The view function did not return a valid"
TypeError: The view function did not return a valid response. The return type must be a string, dict, tuple, Response instance, or WSGI callable, but it was a Response.
2021-05-21 16:19:34,059 - display - ERROR - Exception on /contracts [GET]
Traceback (most recent call last):
  File "/home/ark/.local/lib/python3.7/site-packages/flask/app.py", line 2051, in wsgi_app
    response = self.full_dispatch_request()
  File "/home/ark/.local/lib/python3.7/site-packages/flask/app.py", line 1502, in full_dispatch_request
    return self.finalize_request(rv)
  File "/home/ark/.local/lib/python3.7/site-packages/flask/app.py", line 1521, in finalize_request
    response = self.make_response(rv)
  File "/home/ark/.local/lib/python3.7/site-packages/flask/app.py", line 1714, in make_response
    "The view function did not return a valid"
TypeError: The view function did not return a valid response. The return type must be a string, dict, tuple, Response instance, or WSGI callable, but it was a Response.
2021-05-21 16:25:32,465 - display - ERROR - Exception on /contracts [GET]
Traceback (most recent call last):
  File "/home/ark/.local/lib/python3.7/site-packages/flask/app.py", line 2051, in wsgi_app
    response = self.full_dispatch_request()
  File "/home/ark/.local/lib/python3.7/site-packages/flask/app.py", line 1502, in full_dispatch_request
    return self.finalize_request(rv)
  File "/home/ark/.local/lib/python3.7/site-packages/flask/app.py", line 1521, in finalize_request
    response = self.make_response(rv)
  File "/home/ark/.local/lib/python3.7/site-packages/flask/app.py", line 1714, in make_response
    "The view function did not return a valid"
TypeError: The view function did not return a valid response. The return type must be a string, dict, tuple, Response instance, or WSGI callable, but it was a Response.
2021-05-21 16:30:50,873 - display - ERROR - Exception on /contracts [GET]
Traceback (most recent call last):
  File "/home/ark/.local/lib/python3.7/site-packages/flask/app.py", line 2051, in wsgi_app
    response = self.full_dispatch_request()
  File "/home/ark/.local/lib/python3.7/site-packages/flask/app.py", line 1501, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/home/ark/.local/lib/python3.7/site-packages/flask/app.py", line 1499, in full_dispatch_request
    rv = self.dispatch_request()
  File "/home/ark/.local/lib/python3.7/site-packages/flask/app.py", line 1485, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**req.view_args)
  File "display.py", line 26, in contracts
    return restapis.build_contracts_list()
  File "/home/ark/SAUR/FrontEnd/restapis.py", line 26, in build_contracts_list
    print(answer["Cisco-IOS-XE-bgp:standard"])
TypeError: 'Response' object is not subscriptable
2021-05-21 16:35:17,098 - display - ERROR - Exception on /contracts [GET]
Traceback (most recent call last):
  File "/home/ark/.local/lib/python3.7/site-packages/flask/app.py", line 2051, in wsgi_app
    response = self.full_dispatch_request()
  File "/home/ark/.local/lib/python3.7/site-packages/flask/app.py", line 1501, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/home/ark/.local/lib/python3.7/site-packages/flask/app.py", line 1499, in full_dispatch_request
    rv = self.dispatch_request()
  File "/home/ark/.local/lib/python3.7/site-packages/flask/app.py", line 1485, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**req.view_args)
  File "display.py", line 26, in contracts
    return restapis.build_contracts_list()
  File "/home/ark/SAUR/FrontEnd/restapis.py", line 26, in build_contracts_list
    contracts = [ ctc.name    for ctc in answer["Cisco-IOS-XE-bgp:standard"]  ]
  File "/home/ark/SAUR/FrontEnd/restapis.py", line 26, in <listcomp>
    contracts = [ ctc.name    for ctc in answer["Cisco-IOS-XE-bgp:standard"]  ]
AttributeError: 'dict' object has no attribute 'name'
2021-05-25 08:47:38,272 - display - ERROR - Exception on /sites [GET]
Traceback (most recent call last):
  File "/home/ark/.local/lib/python3.7/site-packages/flask/app.py", line 2051, in wsgi_app
    response = self.full_dispatch_request()
  File "/home/ark/.local/lib/python3.7/site-packages/flask/app.py", line 1501, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/home/ark/.local/lib/python3.7/site-packages/flask/app.py", line 1499, in full_dispatch_request
    rv = self.dispatch_request()
  File "/home/ark/.local/lib/python3.7/site-packages/flask/app.py", line 1485, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**req.view_args)
  File "display.py", line 32, in sites
    sites = restapis.build_sites_list()
  File "/home/ark/SAUR/FrontEnd/restapis.py", line 34, in build_sites_list
    sites = [ ctc['name']    for ctc in answer["Cisco-IOS-XE-native:route-map"] if ctc['name'].startwith('To_') ]
  File "/home/ark/SAUR/FrontEnd/restapis.py", line 34, in <listcomp>
    sites = [ ctc['name']    for ctc in answer["Cisco-IOS-XE-native:route-map"] if ctc['name'].startwith('To_') ]
AttributeError: 'str' object has no attribute 'startwith'
2021-05-25 16:56:16,502 - display - ERROR - Exception on /site/To_Site_101 [GET]
Traceback (most recent call last):
  File "/home/ark/.local/lib/python3.7/site-packages/flask/app.py", line 2051, in wsgi_app
    response = self.full_dispatch_request()
  File "/home/ark/.local/lib/python3.7/site-packages/flask/app.py", line 1501, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/home/ark/.local/lib/python3.7/site-packages/flask/app.py", line 1499, in full_dispatch_request
    rv = self.dispatch_request()
  File "/home/ark/.local/lib/python3.7/site-packages/flask/app.py", line 1485, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**req.view_args)
TypeError: site_info() got an unexpected keyword argument 'name'
2021-05-25 16:57:29,335 - display - ERROR - Exception on /site/To_Site_101 [GET]
Traceback (most recent call last):
  File "/home/ark/.local/lib/python3.7/site-packages/flask/app.py", line 2051, in wsgi_app
    response = self.full_dispatch_request()
  File "/home/ark/.local/lib/python3.7/site-packages/flask/app.py", line 1501, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/home/ark/.local/lib/python3.7/site-packages/flask/app.py", line 1499, in full_dispatch_request
    rv = self.dispatch_request()
  File "/home/ark/.local/lib/python3.7/site-packages/flask/app.py", line 1485, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**req.view_args)
  File "display.py", line 37, in site_info
    site_info = restapis.build_site_info(name)
  File "/home/ark/SAUR/FrontEnd/restapis.py", line 47, in build_site_info
    return  answer["Cisco-IOS-XE-native:route-map"]
KeyError: 'Cisco-IOS-XE-native:route-map'
2021-05-25 16:59:38,353 - display - ERROR - Exception on /site/To_Site_101 [GET]
Traceback (most recent call last):
  File "/home/ark/.local/lib/python3.7/site-packages/flask/app.py", line 2051, in wsgi_app
    response = self.full_dispatch_request()
  File "/home/ark/.local/lib/python3.7/site-packages/flask/app.py", line 1501, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/home/ark/.local/lib/python3.7/site-packages/flask/app.py", line 1499, in full_dispatch_request
    rv = self.dispatch_request()
  File "/home/ark/.local/lib/python3.7/site-packages/flask/app.py", line 1485, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**req.view_args)
  File "display.py", line 37, in site_info
    site_info = restapis.build_site_info(name)
  File "/home/ark/SAUR/FrontEnd/restapis.py", line 46, in build_site_info
    answer = requests.get (url, auth = requests.auth.HTTPBasicAuth( 'cisco', 'cisco'), headers=headers, verify = False).json()
  File "/usr/lib/python3/dist-packages/requests/models.py", line 897, in json
    return complexjson.loads(self.text, **kwargs)
  File "/usr/lib/python3/dist-packages/simplejson/__init__.py", line 518, in loads
    return _default_decoder.decode(s)
  File "/usr/lib/python3/dist-packages/simplejson/decoder.py", line 370, in decode
    obj, end = self.raw_decode(s)
  File "/usr/lib/python3/dist-packages/simplejson/decoder.py", line 400, in raw_decode
    return self.scan_once(s, idx=_w(s, idx).end())
simplejson.errors.JSONDecodeError: Expecting value: line 1 column 1 (char 0)
2021-05-31 14:21:02,303 - display - ERROR - Exception on /contracts [GET]
Traceback (most recent call last):
  File "/home/ark/.local/lib/python3.7/site-packages/flask/app.py", line 2051, in wsgi_app
    response = self.full_dispatch_request()
  File "/home/ark/.local/lib/python3.7/site-packages/flask/app.py", line 1501, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/home/ark/.local/lib/python3.7/site-packages/flask/app.py", line 1499, in full_dispatch_request
    rv = self.dispatch_request()
  File "/home/ark/.local/lib/python3.7/site-packages/flask/app.py", line 1485, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**req.view_args)
  File "display.py", line 28, in contracts
    contracts = restapis.build_contracts_list()
  File "/home/ark/SAUR/FrontEnd/restapis.py", line 27, in build_contracts_list
    if answer.status_code in [200,202,204]:
AttributeError: 'dict' object has no attribute 'status_code'
2021-05-31 17:56:56,450 - display - ERROR - Exception on /site/Contract_506 [GET]
Traceback (most recent call last):
  File "/home/ark/.local/lib/python3.7/site-packages/flask/app.py", line 2051, in wsgi_app
    response = self.full_dispatch_request()
  File "/home/ark/.local/lib/python3.7/site-packages/flask/app.py", line 1501, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/home/ark/.local/lib/python3.7/site-packages/flask/app.py", line 1499, in full_dispatch_request
    rv = self.dispatch_request()
  File "/home/ark/.local/lib/python3.7/site-packages/flask/app.py", line 1485, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**req.view_args)
  File "display.py", line 43, in site_info
    site_info = restapis.build_site_info(name)
  File "/home/ark/SAUR/FrontEnd/restapis.py", line 46, in build_site_info
    answer = requests.get (url, auth = requests.auth.HTTPBasicAuth( 'cisco', 'cisco'), headers=headers, verify = False).json()
  File "/usr/lib/python3/dist-packages/requests/models.py", line 897, in json
    return complexjson.loads(self.text, **kwargs)
  File "/usr/lib/python3/dist-packages/simplejson/__init__.py", line 518, in loads
    return _default_decoder.decode(s)
  File "/usr/lib/python3/dist-packages/simplejson/decoder.py", line 370, in decode
    obj, end = self.raw_decode(s)
  File "/usr/lib/python3/dist-packages/simplejson/decoder.py", line 400, in raw_decode
    return self.scan_once(s, idx=_w(s, idx).end())
simplejson.errors.JSONDecodeError: Expecting value: line 1 column 1 (char 0)
2021-06-02 17:17:14,712 - display - ERROR - Exception on /contract/521 [GET]
Traceback (most recent call last):
  File "/home/ark/.local/lib/python3.7/site-packages/flask/app.py", line 2051, in wsgi_app
    response = self.full_dispatch_request()
  File "/home/ark/.local/lib/python3.7/site-packages/flask/app.py", line 1501, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/home/ark/.local/lib/python3.7/site-packages/flask/app.py", line 1499, in full_dispatch_request
    rv = self.dispatch_request()
  File "/home/ark/.local/lib/python3.7/site-packages/flask/app.py", line 1485, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**req.view_args)
  File "display.py", line 33, in contract_info
    contract_info = netconfapis.build_contract_info(name)
  File "/home/ark/SAUR/FrontEnd/netconfapis.py", line 60, in build_contract_info
    return json.dump (c)
TypeError: dump() missing 1 required positional argument: 'fp'
2021-06-02 17:21:20,249 - display - ERROR - Exception on /contract/521 [GET]
Traceback (most recent call last):
  File "/home/ark/.local/lib/python3.7/site-packages/flask/app.py", line 2051, in wsgi_app
    response = self.full_dispatch_request()
  File "/home/ark/.local/lib/python3.7/site-packages/flask/app.py", line 1501, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/home/ark/.local/lib/python3.7/site-packages/flask/app.py", line 1499, in full_dispatch_request
    rv = self.dispatch_request()
  File "/home/ark/.local/lib/python3.7/site-packages/flask/app.py", line 1485, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**req.view_args)
  File "display.py", line 33, in contract_info
    contract_info = netconfapis.build_contract_info(name)
  File "/home/ark/SAUR/FrontEnd/netconfapis.py", line 60, in build_contract_info
    return json.dumps (c['data']['route-map'], indent=4)
KeyError: 'route-map'
2021-06-04 16:50:35,600 - display - ERROR - Exception on /contract/Contract_555 [GET]
Traceback (most recent call last):
  File "/home/ark/.local/lib/python3.7/site-packages/flask/app.py", line 2051, in wsgi_app
    response = self.full_dispatch_request()
  File "/home/ark/.local/lib/python3.7/site-packages/flask/app.py", line 1501, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/home/ark/.local/lib/python3.7/site-packages/flask/app.py", line 1499, in full_dispatch_request
    rv = self.dispatch_request()
  File "/home/ark/.local/lib/python3.7/site-packages/flask/app.py", line 1485, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**req.view_args)
  File "display.py", line 33, in contract_info
    contract_info = netconfapis.build_contract_info(name)
  File "/home/ark/SAUR/FrontEnd/netconfapis.py", line 90, in build_contract_info
    liste_sites = [ r['name'][3:]   for r in c['data']['native']['route-map'] ]
KeyError: 'native'
2021-06-04 17:06:18,534 - display - ERROR - Exception on /contract/555 [GET]
Traceback (most recent call last):
  File "/home/ark/.local/lib/python3.7/site-packages/flask/app.py", line 2051, in wsgi_app
    response = self.full_dispatch_request()
  File "/home/ark/.local/lib/python3.7/site-packages/flask/app.py", line 1501, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/home/ark/.local/lib/python3.7/site-packages/flask/app.py", line 1499, in full_dispatch_request
    rv = self.dispatch_request()
  File "/home/ark/.local/lib/python3.7/site-packages/flask/app.py", line 1485, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**req.view_args)
  File "display.py", line 34, in contract_info
    routes_info = netconfapis.build_contract_route(name)
  File "/home/ark/SAUR/FrontEnd/netconfapis.py", line 112, in build_contract_route
    list_routes = [ prefix for prefix in c['data']['bgp-state-data']['bgp-route-rds']['bgp-route-rd']['bgp-rd-route-afs']['bgp-rd-route-af']['bgp-rd-route-filters']['bgp-rd-route-filter']['bgp-rd-route-entries']['bgp-rd-route-entry']['prefix'] ]
KeyError: 'bgp-state-data'
2021-06-04 17:06:53,924 - display - ERROR - Exception on /contract/555 [GET]
Traceback (most recent call last):
  File "/home/ark/.local/lib/python3.7/site-packages/flask/app.py", line 2051, in wsgi_app
    response = self.full_dispatch_request()
  File "/home/ark/.local/lib/python3.7/site-packages/flask/app.py", line 1501, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/home/ark/.local/lib/python3.7/site-packages/flask/app.py", line 1499, in full_dispatch_request
    rv = self.dispatch_request()
  File "/home/ark/.local/lib/python3.7/site-packages/flask/app.py", line 1485, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**req.view_args)
  File "display.py", line 34, in contract_info
    routes_info = netconfapis.build_contract_route(name)
  File "/home/ark/SAUR/FrontEnd/netconfapis.py", line 112, in build_contract_route
    list_routes = [ prefix for prefix in c['data']['bgp-state-data']['bgp-route-rds']['bgp-route-rd']['bgp-rd-route-afs']['bgp-rd-route-af']['bgp-rd-route-filters']['bgp-rd-route-filter']['bgp-rd-route-entries']['bgp-rd-route-entry']['prefix'] ]
KeyError: 'bgp-state-data'
2021-06-04 17:07:52,826 - display - ERROR - Exception on /contract/555 [GET]
Traceback (most recent call last):
  File "/home/ark/.local/lib/python3.7/site-packages/flask/app.py", line 2051, in wsgi_app
    response = self.full_dispatch_request()
  File "/home/ark/.local/lib/python3.7/site-packages/flask/app.py", line 1501, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/home/ark/.local/lib/python3.7/site-packages/flask/app.py", line 1499, in full_dispatch_request
    rv = self.dispatch_request()
  File "/home/ark/.local/lib/python3.7/site-packages/flask/app.py", line 1485, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**req.view_args)
  File "display.py", line 34, in contract_info
    routes_info = netconfapis.build_contract_route(name)
  File "/home/ark/SAUR/FrontEnd/netconfapis.py", line 112, in build_contract_route
    list_routes = [ prefix for prefix in c['data']['bgp-state-data']['bgp-route-rds']['bgp-route-rd']['bgp-rd-route-afs']['bgp-rd-route-af']['bgp-rd-route-filters']['bgp-rd-route-filter']['bgp-rd-route-entries']['bgp-rd-route-entry']['prefix'] ]
KeyError: 'bgp-state-data'
2021-06-04 17:11:11,526 - display - ERROR - Exception on /contract/555 [GET]
Traceback (most recent call last):
  File "/home/ark/.local/lib/python3.7/site-packages/flask/app.py", line 2051, in wsgi_app
    response = self.full_dispatch_request()
  File "/home/ark/.local/lib/python3.7/site-packages/flask/app.py", line 1501, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/home/ark/.local/lib/python3.7/site-packages/flask/app.py", line 1499, in full_dispatch_request
    rv = self.dispatch_request()
  File "/home/ark/.local/lib/python3.7/site-packages/flask/app.py", line 1485, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**req.view_args)
  File "display.py", line 34, in contract_info
    routes_info = netconfapis.build_contract_route(name)
  File "/home/ark/SAUR/FrontEnd/netconfapis.py", line 112, in build_contract_route
    list_routes = [ prefix for prefix in c['data']['bgp-state-data']['bgp-route-rds']['bgp-route-rd']['bgp-rd-route-afs']['bgp-rd-route-af']['bgp-rd-route-filters']['bgp-rd-route-filter']['bgp-rd-route-entries']['bgp-rd-route-entry']['prefix'] ]
TypeError: list indices must be integers or slices, not str
2021-06-07 10:43:51,673 - display - ERROR - Exception on /contracts [GET]
Traceback (most recent call last):
  File "/home/ark/.local/lib/python3.7/site-packages/flask/app.py", line 2051, in wsgi_app
    response = self.full_dispatch_request()
  File "/home/ark/.local/lib/python3.7/site-packages/flask/app.py", line 1501, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/home/ark/.local/lib/python3.7/site-packages/flask/app.py", line 1499, in full_dispatch_request
    rv = self.dispatch_request()
  File "/home/ark/.local/lib/python3.7/site-packages/flask/app.py", line 1485, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**req.view_args)
  File "display.py", line 28, in contracts
    contracts = netconfapis.build_contracts_list()
AttributeError: module 'netconfapis' has no attribute 'build_contracts_list'
2021-06-07 10:44:25,270 - display - ERROR - Exception on /contracts [GET]
Traceback (most recent call last):
  File "/home/ark/.local/lib/python3.7/site-packages/flask/app.py", line 2051, in wsgi_app
    response = self.full_dispatch_request()
  File "/home/ark/.local/lib/python3.7/site-packages/flask/app.py", line 1501, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/home/ark/.local/lib/python3.7/site-packages/flask/app.py", line 1499, in full_dispatch_request
    rv = self.dispatch_request()
  File "/home/ark/.local/lib/python3.7/site-packages/flask/app.py", line 1485, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**req.view_args)
  File "display.py", line 28, in contracts
    contracts = netconfapis.build_contracts_list()
  File "/home/ark/SAUR/FrontEnd/netconfapis.py", line 45, in build_contracts_list
    liste_contracts = [ { 'name': r['name'], 'id': r['permit']['rt']['name'] }   for r in c['data']['native']['extcommunity-list']['standard'] ]
KeyError: 'extcommunity-list'
2021-06-07 11:05:59,625 - display - ERROR - Exception on /site/ablgowswbk [GET]
Traceback (most recent call last):
  File "/home/ark/.local/lib/python3.7/site-packages/flask/app.py", line 2051, in wsgi_app
    response = self.full_dispatch_request()
  File "/home/ark/.local/lib/python3.7/site-packages/flask/app.py", line 1501, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/home/ark/.local/lib/python3.7/site-packages/flask/app.py", line 1499, in full_dispatch_request
    rv = self.dispatch_request()
  File "/home/ark/.local/lib/python3.7/site-packages/flask/app.py", line 1485, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**req.view_args)
  File "display.py", line 44, in site_info
    site_info = netconfapis.build_site_info(name)
  File "/home/ark/SAUR/FrontEnd/netconfapis.py", line 99, in build_site_info
    return c['data']['native']['route-map']['route-map-without-order-seq']
KeyError: 'native'
2021-06-07 11:07:26,986 - display - ERROR - Exception on /site/ablgowswbk [GET]
Traceback (most recent call last):
  File "/home/ark/.local/lib/python3.7/site-packages/flask/app.py", line 2051, in wsgi_app
    response = self.full_dispatch_request()
  File "/home/ark/.local/lib/python3.7/site-packages/flask/app.py", line 1501, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/home/ark/.local/lib/python3.7/site-packages/flask/app.py", line 1499, in full_dispatch_request
    rv = self.dispatch_request()
  File "/home/ark/.local/lib/python3.7/site-packages/flask/app.py", line 1485, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**req.view_args)
  File "display.py", line 44, in site_info
    site_info = netconfapis.build_site_info(name)
  File "/home/ark/SAUR/FrontEnd/netconfapis.py", line 97, in build_site_info
    answer = m.get_config(source='running', filter=xpath).data_xml
NameError: name 'xpath' is not defined
2021-06-07 11:07:38,776 - display - ERROR - Exception on /site/ablgowswbk [GET]
Traceback (most recent call last):
  File "/home/ark/.local/lib/python3.7/site-packages/flask/app.py", line 2051, in wsgi_app
    response = self.full_dispatch_request()
  File "/home/ark/.local/lib/python3.7/site-packages/flask/app.py", line 1501, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/home/ark/.local/lib/python3.7/site-packages/flask/app.py", line 1499, in full_dispatch_request
    rv = self.dispatch_request()
  File "/home/ark/.local/lib/python3.7/site-packages/flask/app.py", line 1485, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**req.view_args)
  File "display.py", line 45, in site_info
    return flask.render_template('site_info.html', site=site_info)
  File "/home/ark/.local/lib/python3.7/site-packages/flask/templating.py", line 150, in render_template
    ctx.app,
  File "/home/ark/.local/lib/python3.7/site-packages/flask/templating.py", line 128, in _render
    rv = template.render(context)
  File "/usr/lib/python3/dist-packages/jinja2/asyncsupport.py", line 76, in render
    return original_render(self, *args, **kwargs)
  File "/usr/lib/python3/dist-packages/jinja2/environment.py", line 1008, in render
    return self.environment.handle_exception(exc_info, True)
  File "/usr/lib/python3/dist-packages/jinja2/environment.py", line 780, in handle_exception
    reraise(exc_type, exc_value, tb)
  File "/usr/lib/python3/dist-packages/jinja2/_compat.py", line 37, in reraise
    raise value.with_traceback(tb)
  File "/home/ark/SAUR/FrontEnd/html_templates/site_info.html", line 1, in top-level template code
    {% extends 'base.html' %}
  File "/home/ark/SAUR/FrontEnd/html_templates/base.html", line 25, in top-level template code
    {% block body %}
  File "/home/ark/SAUR/FrontEnd/html_templates/site_info.html", line 13, in block "body"
    see contract : <a href=/contract/{{site[0].match.extcommunity.name[0]}}>{{site[0].match.extcommunity.name[0]}}</a>
  File "/usr/lib/python3/dist-packages/jinja2/environment.py", line 430, in getattr
    return getattr(obj, attribute)
jinja2.exceptions.UndefinedError: collections.OrderedDict object has no element 0
2021-06-07 11:08:20,763 - display - ERROR - Exception on /site/ablgowswbk [GET]
Traceback (most recent call last):
  File "/home/ark/.local/lib/python3.7/site-packages/flask/app.py", line 2051, in wsgi_app
    response = self.full_dispatch_request()
  File "/home/ark/.local/lib/python3.7/site-packages/flask/app.py", line 1501, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/home/ark/.local/lib/python3.7/site-packages/flask/app.py", line 1499, in full_dispatch_request
    rv = self.dispatch_request()
  File "/home/ark/.local/lib/python3.7/site-packages/flask/app.py", line 1485, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**req.view_args)
  File "display.py", line 44, in site_info
    site_info = netconfapis.build_site_info(name)
  File "/home/ark/SAUR/FrontEnd/netconfapis.py", line 100, in build_site_info
    return json_dumps (c['data']['native']['route-map']['route-map-without-order-seq'], indent=4)
NameError: name 'json_dumps' is not defined
2021-06-07 11:08:39,941 - display - ERROR - Exception on /site/ablgowswbk [GET]
Traceback (most recent call last):
  File "/home/ark/.local/lib/python3.7/site-packages/flask/app.py", line 2051, in wsgi_app
    response = self.full_dispatch_request()
  File "/home/ark/.local/lib/python3.7/site-packages/flask/app.py", line 1501, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/home/ark/.local/lib/python3.7/site-packages/flask/app.py", line 1499, in full_dispatch_request
    rv = self.dispatch_request()
  File "/home/ark/.local/lib/python3.7/site-packages/flask/app.py", line 1485, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**req.view_args)
  File "display.py", line 45, in site_info
    return flask.render_template('site_info.html', site=site_info)
  File "/home/ark/.local/lib/python3.7/site-packages/flask/templating.py", line 150, in render_template
    ctx.app,
  File "/home/ark/.local/lib/python3.7/site-packages/flask/templating.py", line 128, in _render
    rv = template.render(context)
  File "/usr/lib/python3/dist-packages/jinja2/asyncsupport.py", line 76, in render
    return original_render(self, *args, **kwargs)
  File "/usr/lib/python3/dist-packages/jinja2/environment.py", line 1008, in render
    return self.environment.handle_exception(exc_info, True)
  File "/usr/lib/python3/dist-packages/jinja2/environment.py", line 780, in handle_exception
    reraise(exc_type, exc_value, tb)
  File "/usr/lib/python3/dist-packages/jinja2/_compat.py", line 37, in reraise
    raise value.with_traceback(tb)
  File "/home/ark/SAUR/FrontEnd/html_templates/site_info.html", line 1, in top-level template code
    {% extends 'base.html' %}
  File "/home/ark/SAUR/FrontEnd/html_templates/base.html", line 25, in top-level template code
    {% block body %}
  File "/home/ark/SAUR/FrontEnd/html_templates/site_info.html", line 13, in block "body"
    see contract : <a href=/contract/{{site[0].match.extcommunity.name[0]}}>{{site[0].match.extcommunity.name[0]}}</a>
  File "/usr/lib/python3/dist-packages/jinja2/environment.py", line 430, in getattr
    return getattr(obj, attribute)
jinja2.exceptions.UndefinedError: 'str object' has no attribute 'match'
2021-06-07 11:11:24,823 - display - ERROR - Exception on /site/ablgowswbk [GET]
Traceback (most recent call last):
  File "/home/ark/.local/lib/python3.7/site-packages/flask/app.py", line 2051, in wsgi_app
    response = self.full_dispatch_request()
  File "/home/ark/.local/lib/python3.7/site-packages/flask/app.py", line 1501, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/home/ark/.local/lib/python3.7/site-packages/flask/app.py", line 1499, in full_dispatch_request
    rv = self.dispatch_request()
  File "/home/ark/.local/lib/python3.7/site-packages/flask/app.py", line 1485, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**req.view_args)
  File "display.py", line 45, in site_info
    return flask.render_template('site_info.html', site=site_info)
  File "/home/ark/.local/lib/python3.7/site-packages/flask/templating.py", line 150, in render_template
    ctx.app,
  File "/home/ark/.local/lib/python3.7/site-packages/flask/templating.py", line 128, in _render
    rv = template.render(context)
  File "/usr/lib/python3/dist-packages/jinja2/asyncsupport.py", line 76, in render
    return original_render(self, *args, **kwargs)
  File "/usr/lib/python3/dist-packages/jinja2/environment.py", line 1008, in render
    return self.environment.handle_exception(exc_info, True)
  File "/usr/lib/python3/dist-packages/jinja2/environment.py", line 780, in handle_exception
    reraise(exc_type, exc_value, tb)
  File "/usr/lib/python3/dist-packages/jinja2/_compat.py", line 37, in reraise
    raise value.with_traceback(tb)
  File "/home/ark/SAUR/FrontEnd/html_templates/site_info.html", line 1, in top-level template code
    {% extends 'base.html' %}
  File "/home/ark/SAUR/FrontEnd/html_templates/base.html", line 25, in top-level template code
    {% block body %}
  File "/home/ark/SAUR/FrontEnd/html_templates/site_info.html", line 13, in block "body"
    see contract : <a href=/contract/{{site.match.extcommunity.name}}>{{site.match.extcommunity.name}}</a>
  File "/usr/lib/python3/dist-packages/jinja2/environment.py", line 430, in getattr
    return getattr(obj, attribute)
jinja2.exceptions.UndefinedError: 'str object' has no attribute 'match'
